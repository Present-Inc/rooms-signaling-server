FROM node:0.12

# =========================================================
# BEGIN Configure Application
# =========================================================

# Port
ENV PORT 80

# Debug (logs)
ENV DEBUG *

# =========================================================
# END Configure Application
# =========================================================

# =========================================================
# BEGIN Build App Release
# =========================================================

# ---------------------------------------------------------
# Copy App Repo Into Release
# ---------------------------------------------------------
ADD . /var/app

# ---------------------------------------------------------
# Fetch, Build, and Install Dependencies
# ---------------------------------------------------------
WORKDIR /var/app
RUN npm install

# ---------------------------------------------------------
# Expose Api App Port
# ---------------------------------------------------------
EXPOSE 80

# ---------------------------------------------------------
# Set App as Default Command
# ---------------------------------------------------------
CMD node index.js
